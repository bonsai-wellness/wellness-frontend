<div class="container">
    <nz-modal nzCentered [(nzVisible)]="isVisibleEspacioPadreModal" (nzOnCancel)="handleCancel()"
        (nzOnOk)="handleAddEspacioPadre()" nzCancelText="Cancelar" nzOkText="Crear">
        <ng-container *nzModalContent>
            <p class="text" style="font-size: 2rem;top: 1%;font-weight: bold;">Agregar Espacio Padre</p>
            <form (ngSubmit)="handleAddEspacioPadre()" [formGroup]="formEspacioPadre">
                <div class="row">
                    <div class="col col-sm-9">
                        <input formControlName="name" type="text" class="form-control" placeholder="Nombre" />
                    </div>
                    <div class="col col-sm-3">
                        <input formControlName="code" type="text" class="form-control" placeholder="Codigo" />
                    </div>
                    <div class="col col-sm-12">
                        <input formControlName="map_url" type="text" class="form-control" placeholder="Map Url" />
                    </div>
                </div>
            </form>
        </ng-container>
    </nz-modal>

    <nz-modal nzCentered [(nzVisible)]="isVisibleEspacioModal" (nzOnCancel)="handleCancel()"
        (nzOnOk)="handleAddEspacio()" nzCancelText="Cancelar" nzOkText="Crear">
        <ng-container *nzModalContent>
            <p class="text" style="font-size: 2rem;top: 1%;font-weight: bold;">Agregar Espacio</p>
            <form (ngSubmit)="handleAddEspacio()" [formGroup]="formEspacio">
                <div class="row">
                    <div class="col col-sm-9">
                        <input id="espacio-form-nombre" formControlName="name" type="text" class="form-control"
                            placeholder="Nombre" />
                    </div>
                    <div class="col col-sm-3">
                        <input id="espacio-form-codigo" formControlName="code" type="text" class="form-control"
                            placeholder="Codigo" />
                    </div>
                    <div class="col col-sm-12">
                        <app-select-deporte (listOfSelectedDeportes)="addList($event, 'deporte')"></app-select-deporte>
                    </div>

                    <div class="col col-sm-12">
                        <app-select-espacio-padre
                            (espacio_padre_id)="addList($event, 'espacio-padre')"></app-select-espacio-padre>
                    </div>

                    <div class="col col-sm-12">
                        <app-select-punto-importante
                            (listOfSelectedPuntos)="addList($event, 'punto')"></app-select-punto-importante>
                    </div>

                    <div class="col col-sm-9">
                        <textarea formControlName="details" type="text" class="form-control form-control-detalles"
                            placeholder="Detalles" rows="5"></textarea>
                    </div>
                    <div class="col col-sm-3">
                        <app-file-upload (newItemEvent)="addFileEspacio($event)" size="big"></app-file-upload>
                    </div>
                    <div class="col col-sm-6">
                        <input formControlName="time_max" type="number" min="0" class="form-control"
                            placeholder="Tiempo max de reserva" />
                    </div>
                    <div class="col col-sm-6">
                        <input formControlName="capacity" type="number" min="0" class="form-control"
                            placeholder="Capacidad max" />
                    </div>
                    <div class="col col-sm-6" style="display: flex;vertical-align: middle;">
                        <div class="col col-sm-6">
                            <p class="text">Horario Entrada</p>
                        </div>
                        <div class="col col-sm-6">
                            <nz-time-picker class="form-control" nzPlaceHolder="Horario Entrada"
                                formControlName="open_at" [(ngModel)]="openAt" nzSize="large"
                                nzFormat="HH:mm"></nz-time-picker>
                        </div>
                    </div>
                    <div class="col col-sm-6" style="display: flex;">
                        <div class="col col-sm-6">
                            <p class="text">Horario Salida</p>
                        </div>
                        <div class="col col-sm-6">
                            <nz-time-picker class="form-control" formControlName="close_at" nzSize="large"
                                [(ngModel)]="closeAt" nzFormat="HH:mm" nzPlaceHolder="Horario Salida"></nz-time-picker>
                        </div>
                    </div>

                </div>
            </form>
        </ng-container>
    </nz-modal>

    <div class="row">
        <div class="col-sm-6">
            <p class="text" style="font-size: 2rem;top: 1%;font-weight: bold;">Espacios</p>
        </div>
        <div class="col-sm-6">
            <div class="row">
                <div class="col-sm-8">
                </div>
                <div class="col-sm-4">
                    <button id="add-button" class="btn btn-primary" type="button" (click)="showEspacioModal()">
                        <span nz-icon nzType="plus" class="btn-icon"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <nz-tabset [nzCanDeactivate]="openEspacioPadreModal">
            <nz-tab *ngFor="let espacioPadre of arrEspacioPadre" nzTitle="{{ espacioPadre.name }}">
                <app-tabEspacios [espacio_padre_id]="espacioPadre.espacio_padre_id"></app-tabEspacios>
            </nz-tab>
            <nz-tab nzTitle="+ Agregar instalacion Padre">
            </nz-tab>
        </nz-tabset>

    </div>
</div>